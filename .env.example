# .env.example
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url_here
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here

NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=generate_with_openssl_rand_base64_32

TWITTER_CLIENT_ID=your_twitter_oauth2_client_id
TWITTER_CLIENT_SECRET=your_twitter_oauth2_client_secret

# Optional hard limits for Twitter APIs
# Max uploaded archive size in bytes (default: 1073741824 = 1GB)
TWITTER_MAX_ARCHIVE_BYTES=1073741824
# Max ZIP entries scanned during archive processing (default: 50000)
TWITTER_MAX_ARCHIVE_ZIP_ENTRIES=50000
# Max media files extracted from an archive (default: 20000)
TWITTER_MAX_ARCHIVE_MEDIA_FILES=20000
# Max total uncompressed media bytes processed from archive (default: 5368709120 = 5GB)
TWITTER_MAX_ARCHIVE_MEDIA_BYTES=5368709120
# Max total storage per user across backups/media (default: 5368709120 = 5GB)
USER_MAX_TOTAL_STORAGE_BYTES=5368709120
# Scrape defaults
# Note: hard min/max tweet caps are no longer enforced by the API route.
# Scrape size is constrained by snapshot token budget and storage limits.
TWITTER_SCRAPE_DEFAULT_TWEETS=500
# Snapshot token budget caps for snapshot scraping
# Max estimated token spend allowed per single scrape run (default: $25.00)
TWITTER_SCRAPE_API_MAX_COST_PER_RUN_USD=25
# Max total snapshot token spend per user for the current UTC month (default: $20.00)
TWITTER_SCRAPE_API_MAX_COST_PER_MONTH_USD=20
# Apify pricing model (defaults match apidojo actor pricing pages)
TWITTER_APIFY_PROFILE_QUERY_BASE_USD=0.016
TWITTER_APIFY_PROFILE_INCLUDED_ITEMS=40
TWITTER_APIFY_PROFILE_EXTRA_ITEM_USD=0.0004
TWITTER_APIFY_USER_ITEM_USD=0.0004

# Optional: base URL and secret for ad-hoc Apify webhooks
# Base URL fallback order in code: APP_BASE_URL -> NEXTAUTH_URL -> NEXT_PUBLIC_APP_URL -> NEXT_PUBLIC_SITE_URL -> request origin
# Set APIFY_WEBHOOK_SECRET to protect /api/platforms/twitter/apify-webhook callbacks.
APP_BASE_URL=http://localhost:3000
APIFY_WEBHOOK_SECRET=replace_with_random_secret

# Resend email provider (archive reminder emails)
# Replace with your real key (starts with re_)
RESEND_API_KEY=re_xxxxxxxxx
# Use a verified sender for production (e.g. hello@yourdomain.com)
RESEND_FROM_EMAIL="Social Backup <noreply@yourdomain.com>"

# Secret used to protect POST /api/archive-wizard/reminders cron endpoint
ARCHIVE_REMINDER_CRON_SECRET=replace_with_random_secret
